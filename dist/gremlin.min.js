/*! GremlinJS 0.5.0 (2013-10-30) - http://grml.in - Licensed under MIT license  */!function(a,b){b["true"]=a,!function(a){window.onDomReady=a()}(function(){"use strict";function a(b){if(!v){if(!g.body)return d(a);for(v=!0;b=w.shift();)d(b)}}function b(b){(t||b.type===i||g[m]===l)&&(c(),a())}function c(){t?(g[s](q,b,j),f[s](i,b,j)):(g[o](r,b),f[o](k,b))}function d(a,b){setTimeout(a,+b>=0?b:1)}function e(a){v?d(a):w.push(a)}var f=window,g=f.document,h=g.documentElement,i="load",j=!1,k="on"+i,l="complete",m="readyState",n="attachEvent",o="detachEvent",p="addEventListener",q="DOMContentLoaded",r="onreadystatechange",s="removeEventListener",t=p in g,u=j,v=j,w=[];if(g[m]===l)d(a);else if(t)g[p](q,b,j),f[p](i,b,j);else{g[n](r,b),f[n](k,b);try{u=null==f.frameElement&&h}catch(x){}u&&u.doScroll&&function y(){if(!v){try{u.doScroll("left")}catch(b){return d(y,50)}c(),a()}}()}return e.version="1.3",e});var c;c=function(){function a(){this._events={}}return a.prototype.on=function(a,b){return this._events[a]=this._events[a]||[],this._events[a].push(b)},a.prototype.off=function(a,b){return!1!=a in this._events?this._events[a].splice(this._events[a].indexOf(b),1):void 0},a.prototype.emit=function(a){var b,c;if(this._events=this._events||{},!1!=a in this._events){for(b=0,c=[];b<this._events[a].length;)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1)),c.push(b++);return c}},a}();var d={}.hasOwnProperty,e=[].slice,f={};f.Helper=function(){function a(){}var b;return b=function(a,b){var c,e;for(c in b)d.call(b,c)&&(e=b[c],a[c]=e);return a},a.extend=function(){var a,b,c,d,f,g,h;for(d=arguments[0],c=2<=arguments.length?e.call(arguments,1):[],g=0,h=c.length;h>g;g++)for(a in b=c[g])f=b[a],d[a]=f;return d},a.mixin=function(a,c){return b(a.prototype,c)},a.clone=function(a){var b,c;if(null==a||"object"!=typeof a)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return b="",null!=a.global&&(b+="g"),null!=a.ignoreCase&&(b+="i"),null!=a.multiline&&(b+="m"),null!=a.sticky&&(b+="y"),RegExp(a.source,b);c=new a.constructor;for(b in a)c[b]=f.Helper.clone(a[b]);return c},a.hasClass=function(a,b){return b=b.trim(),null===a.className.match(RegExp("(\\s|^)"+b+"(\\s|$)"))?!1:!0},a.addClass=function(a,b){return b=b.trim(),f.Helper.hasClass(a,b)||(a.className+=" "+b),a.className=a.className.trim()},a.removeClass=function(a,b){var c;return b=b.trim(),f.Helper.hasClass(a,b)?(c=RegExp("(\\s|^)"+b+"(\\s|$)"),a.className=a.className.replace(c," "),a.className=a.className.trim()):void 0},a.addStyleSheet=function(a){var b,c;return b=document.getElementsByTagName("head")[0],c=document.createElement("style"),c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)},a}(),f.Debug=function(){function a(a){this._isDebug=a,this._gremlins=[],this._broken=[],this._logEl=null,this._createLog(),this._createConsole()}var b,c,d,e,g;return b="debug error info log warn dir dirxml trace assert count markTimeline profile profileEnd time timeEnd timeStamp group groupCollapsed groupEnd".split(" "),c="function"==typeof Function.prototype.bind,d="function"==typeof(null!=(g=window.console)?g.log:void 0),e=function(){},a.prototype._createLog=function(){return this._isDebug?(this._logEl=document.createElement("div"),this._logEl.className="gremlinjs-log",document.body.appendChild(this._logEl)):void 0},a.prototype._createConsole=function(){var a,g,h,i;if(this.console={},this._isDebug&&f.Helper.addStyleSheet(".gremlinjs-log {\nposition: fixed;\nbottom: 0;\nleft: 0;\nbackground: #fff;\npadding: 4px 6px;\n-webkit-box-shadow: 0px 0px 4px 0px rgba(0,0,0,0.3);\nbox-shadow: 0px 0px 4px 0px rgba(0,0,0,0.3);\nz-index: 9999;\n}\n\n.gremlinjs-log p {\n  font-size: 12px;\n  color: #666666;\n  margin: 0;\n  padding: 0;\n}\n\n.gremlinjs-log p span {\n  display: inline-block;\n  margin: 0 5px;\n  cursor: help;\n}\n\n.gremlinjs-log p .gremlinjs-log-ready{\ncolor: #41bb19;\n}\n\n.gremlinjs-log p .gremlinjs-log-waiting{\ncolor: #8d46b0;\n}\n\n.gremlinjs-log p .gremlinjs-log-pending{\ncolor: #fff;\nbackground: #fe781e;\npadding: 0 4px;\n}\n\n.gremlinjs-log p .gremlinjs-log-error{\ncolor: #fff;\nbackground: #f50f43;\npadding: 0 4px;\n}\n\n*[data-gremlin-found] {\noutline: 2px solid #41bb19;\n}\n\n*[data-gremlin-found]::before {\ncolor: #41bb19;\nfont-family: monospace;\ncontent: '[' attr(data-gremlin-found) '] ready';\nposition: absolute;\nmargin-top: -14px;\nfont-size: 11px;\nfont-weight: bold;\n}\n\n.gremlin-definition-pending {\noutline: 2px solid #fe781e;\n}\n.gremlin-definition-pending::before {\ncontent: '[' attr(data-gremlin-found) '] definition pendig...';\ncolor: #fe781e;\n}\n.gremlin-error {\noutline: 2px solid red;\n}\n\n.gremlin-error[data-gremlin-found]::before {\ncontent: 'faulty gremlin!';\ncolor: red;\n}"),d&&this._isDebug){for(i=[],g=0,h=b.length;h>g;g++)a=b[g],c?i.push(this.console[a]=console[a]?Function.prototype.bind.call(console[a],console):e):void 0!==console[a]?i.push(this.console[a]=function(){return Function.prototype.apply.call(console[a],console,arguments)}):i.push(this.console[a]=e);return i}for(i=[],g=0,h=b.length;h>g;g++)a=b[g],i.push(this.console[a]=e);return i},a.prototype.registerGremlin=function(a){return this._gremlins.push(a)},a.prototype.reportBrokenGremlin=function(a){return this._broken.push(a)},a.prototype.updateGremlinLog=function(){var a=this;return this._isDebug&&this._logEl?window.setTimeout(function(){var b,c,d,e,f,g,h,i,j,k,l;for(f=0,g={},h=0,i={},d=0,e={},b=a._broken.length,l=a._gremlins,j=0,k=l.length;k>j;j++)c=l[j],c.hasGremlin()?(f++,a._addName(g,c.name)):c.isLazy?(h++,a._addName(i,c.name)):(d++,a._addName(e,c.name));return b='<p>\n<span title="'+a._getTitle(g)+"\" class='gremlinjs-log-ready'><strong>"+f+'</strong> ready</span>\n<span title="'+a._getTitle(i)+"\" class='gremlinjs-log-waiting'><strong>"+h+'</strong> lazy waiting</span>\n<span title="'+a._getTitle(e)+"\" class='"+(d>0?"gremlinjs-log-pending":"")+"'><strong>"+d+"</strong> pending</span>\n<span class='"+(b>0?"gremlinjs-log-error":"")+"'><strong>"+b+"</strong> error(s)</span>\n</p>",a._logEl.innerHTML=b},50):void 0},a.prototype._addName=function(a,b){return a[b]?a[b]++:a[b]=1},a.prototype._getTitle=function(a){var b,c,d;c="";for(b in a)d=a[b],c+=""+d+"x "+b+" \n";return""===c?"":"Gremlins: \n"+c},a}();var g;g={};var h={};h.Configuration=function(){function a(a){this._options=f.Helper.extend({},b,a)}var b;return b={debug:!1},a.prototype.get=function(a){var b;return null!=(b=this._options[a])?b:null},a.options={DEBUG:"debug",AUTOLOAD:"autoload"},a}(),f.ready=window.onDomReady;var i={};i.Gizmo=function(){function a(a,b,c,d){this.el=a,this.data=b,this.id=c,d.call(this)}return a.prototype.data=null,a.prototype.el=null,a.prototype.id=null,a.prototype.klass=null,a}();var j={};j.ModuleCollection=function(){function a(){}var b,c,d;return d={},c={},b=function(a,b){var e,f,g;if(!c[a]){switch(e=b.include,typeof e){case"string":f=[e];break;case"object":f=Array.isArray(e)?e:[];break;default:f=[]}c[a]=function(){var a,b,c,e;for(e=[],a=0,b=f.length;b>a;a++)g=f[a],e.push(function(){if(null!=(c=d[g]))return c;throw Error("The module "+g+" does not exists!")}());return e}()}return c[a]},a.registerModule=function(a){return d[a.name]=a},a.extendGizmo=function(a,c){var d,e,f,g,h;for(e=b(a,c),h=[],f=0,g=e.length;g>f;f++)d=e[f],h.push(d.extend(c));return h},a.bindGizmo=function(a,c){var d,e,f,g,h;for(e=b(a,c.klass),h=[],f=0,g=e.length;g>f;f++)d=e[f],h.push(d.bind(c));return h},a}();var d={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i.Pool=function(){function a(){}var b,c;return c=null,b={},a=function(){function a(){}return a.prototype.get=function(a){var c;return null!=(c=b[a])?c:null},a.prototype.set=function(a,c){if("undefined"!=typeof b[a])throw Error("Trying to add new Gremlin definition, but a definition for "+a+" already exists.");return j.ModuleCollection.extendGizmo(a,c),b[a]=c},a.prototype.define=function(a,b,c,e){var g,h;if("string"!=typeof a)throw Error("The first parameter when defining a gremlin has to be a string, the gremlin definition's name!");if("function"!=typeof b)throw Error("The second parameter when defining a gremlin has to be the constructor function!");if(void 0!==c&&"object"!=typeof c)throw Error("The third parameter when defining a gremlin has to be an object providing the instance members of the gremlin!");if(void 0!==e&&"object"!=typeof e)throw Error("The fourth parameter when defining a gremlin has to be an object providing the static members of the gremlin!");g=function(a){function c(){c.__super__.constructor.apply(this,arguments),b.call(this)}return k(c,a),c}(i.Gizmo),g.prototype.klass=g,f.Helper.mixin(g,c);for(h in e)d.call(e,h)&&(c=e[h],g[h]=c);return this.set(a,g),g},a.prototype.addClass=function(a,b){if("string"!=typeof a)throw Error("Please provide the name of the gremlin!");if("function"!=typeof b)throw Error("When adding a gremlin, you have to provide a constructor function!");return b.prototype.klass=b,this.set(a,b),b},a}(),a.getInstance=function(){return null!=c?c:c=new a},a}();var l=function(a,b){return function(){return a.apply(b,arguments)}},m={clocks:{}};m.clocks.LegacyTimeoutClock=function(){function a(){this._onInterval=l(this._onInterval,this)}return a.prototype.observe=function(){return this._initiateInterval()},a.prototype._initiateInterval=function(){return this._interval=window.setTimeout(this._onInterval,500)},a.prototype._onInterval=function(){return this.onMutation(),this._initiateInterval()},a.prototype.onMutation=function(){},a}();var n={};n.NameProvider=function(){function a(){}var b;return b=function(a,b){var c;return"function"==typeof a.hasAttribute?a.hasAttribute(b):(c=a.getAttributeNode(b),!(!c||!c.specified&&!c.nodeValue))},a.DATA_NAME_ATTR="data-gremlin",a.isGremlin=function(a){return b(a,"data-gremlin")},a.getNames=function(a){var b,c;if(b=a.getAttribute("data-gremlin"),""===b)return b=null!=(c=a.outerHTML)?c:"",n.NameProvider.flagBrokenElement(a),s.debug.console.log("Couldn't process gremlin element, no gremlin names available, 'data-gremlin' is empty!\n"+b),[];var d,e;for(d=b.split(","),e=[],c=0,b=d.length;b>c;c++)a=d[c],e.push(a.trim());return e},a.flagBrokenElement=function(a){return f.Helper.addClass(a,"gremlin-error"),n.NameProvider.flagProcessedElement(a),s.debug.reportBrokenGremlin(a)},a.flagProcessedElement=function(a){var b;return b=a.getAttribute("data-gremlin"),a.removeAttribute("data-gremlin"),a.setAttribute("data-gremlin-found",b)},a}(),m.clocks.cssAnimationStyle=function(a){return a="@keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-moz-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-webkit-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-o-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n*[{{GREMLIN_ATTRIBUTE}}] {\n  animation-duration: 1ms;\n  -o-animation-duration: 1ms;\n  -moz-animation-duration: 1ms;\n  -webkit-animation-duration: 1ms;\n  animation-name: {{ANIMATION_NAME}};\n  -o-animation-name: {{ANIMATION_NAME}};\n  -moz-animation-name: {{ANIMATION_NAME}};\n  -webkit-animation-name: {{ANIMATION_NAME}};\n}".replace(/{{ANIMATION_NAME}}/g,a),a.replace(/{{GREMLIN_ATTRIBUTE}}/g,n.NameProvider.DATA_NAME_ATTR)},l=function(a,b){return function(){return a.apply(b,arguments)}},m.clocks.CssAnimationClock=function(){function a(){this._onAnimation=l(this._onAnimation,this);var a;a=m.clocks.cssAnimationStyle(b),f.Helper.addStyleSheet(a)}var b,c;return b="gremlinInserted",c=["animationstart","webkitAnimationStart","oanimationstart"],a.prototype.observe=function(){var a,b,d,e;for(e=[],b=0,d=c.length;d>b;b++)a=c[b],e.push(document.body.addEventListener(a,this._onAnimation,!1));return e},a.prototype._onAnimation=function(a){return a.animationName===b?this.onMutation():void 0},a.prototype.onMutation=function(){},a}(),l=function(a,b){return function(){return a.apply(b,arguments)}},m.clocks.MutationObserverClock=function(){function a(){if(this._onMutation=l(this._onMutation,this),null===b)throw Error("Mutation Observer not available")}var b;return b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,a.prototype.observe=function(){return new b(this._onMutation).observe(document.body,{childList:!0,subtree:!0})},a.prototype._onMutation=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++){if(b=a[c],"childList"===b.type){this.onMutation();break}e.push(void 0)}return e},a.prototype.onMutation=function(){},a}(),f.FeatureDetector=function(){function a(){}return a.hasQuerySelectorAll="undefined"!=typeof document.querySelectorAll,a.hasMutationObserver=!(!window.MutationObserver&&!window.WebKitMutationObserver&&!window.MozMutationObserver),a.hasGetClientRect=void 0!==document.documentElement.getBoundingClientRect,a.hasCssAnimations=function(){var a,b,c,d;if(c=document.documentElement,a=!1,b=["Webkit","Moz","O","ms","Khtml"],c.style.animationName&&(a=!0),!1===a)for(d=0;d<b.length;){if(void 0!==c.style[b[d]+"AnimationName"]){a=b[d],a.toLowerCase(),a=!0;break}d++}return a}(),a}(),m.clocks.ClockFactory=function(){function a(){}var b;return b=f.FeatureDetector.hasCssAnimations,a.createClock=function(){return new(b?m.clocks.CssAnimationClock:m.clocks.LegacyTimeoutClock)},a}();var o,l=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};o=function(){function a(){}var b;return b=null,a=function(a){function b(){this._onMutation=l(this._onMutation,this),b.__super__.constructor.apply(this,arguments),this._clock=m.clocks.ClockFactory.createClock(),this._clock.onMutation=this._onMutation}return k(b,a),b.prototype._onMutation=function(){return this.emit(b.ON_MUTATION)},b.prototype.observe=function(){return this._clock.observe(),this._onMutation()},b}(c),a.ON_MUTATION="ON_MUTATION",a.get=function(){return null!=b?b:b=new a},a}.call(this),m.ElementList=function(){function a(a){this._attributeName=a}var b,c,d;return c=function(){function a(){}return a.get=function(a){var b,c,d,e;for(b=document.querySelectorAll("["+n.NameProvider.DATA_NAME_ATTR+"]"),e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(a);return e},a}(),b=function(){function a(){}return a.get=function(a){var b,c,d,e;for(b=document.getElementsByTagName("*"),e=[],c=0,d=b.length;d>c;c++)a=b[c],n.NameProvider.isGremlin(a)&&e.push(a);return e},a}(),d=f.FeatureDetector.hasQuerySelectorAll?c:b,a.prototype.getList=function(){return d.get(this._attributeName)},a}.call(this),l=function(a,b){return function(){return a.apply(b,arguments)}},m.DomObserver=function(){function a(){this._handleMutation=l(this._handleMutation,this),this._elementList=new m.ElementList}return a.prototype._bindMutations=function(){var a;return a=o.get(),a.on(o.ON_MUTATION,this._handleMutation),a.observe()},a.prototype._handleMutation=function(){var a;return a=this._elementList.getList(),0<a.length?this.onNewElements(a):void 0},a.prototype.observe=function(){return this._bindMutations()},a.prototype.onNewElements=function(){},a}(),n.GremlinFactory=function(){function a(){}var b,c;return c=function(){var a;return a=0,function(){return a++}}(),b=function(a){return function(){return j.ModuleCollection.bindGizmo(a,this)}},a.getInstance=function(a,d,e){var f;if(f=i.Pool.getInstance().get(a),"function"==typeof f){if(a=new f(d,e.toObject(),c(),b(a)),null===a.el)throw Error("Abstract gremlin class not called. Did you miss a super in your coffeescript-class?");return a}return null},a}(),f.ElementData={},f.ElementData.DataValue=function(){function a(a){this._dataString=a}var b;return b=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,a.prototype.parse=function(){var a,c;if(c=a=this._dataString,"string"==typeof this._dataString)try{c="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:b.test(a)?JSON.parse(a):a}catch(d){}return c},a}(),d={}.hasOwnProperty,f.ElementData.ElementData=function(){function a(a){this._el=a,this._obj=c(this._el)}var b,c;return b=function(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})},c=function(a){var c,e,g,h;h={},void 0!==a.dataset?c=a.dataset:(c={},[].filter.call(a.attributes,function(d){var e;return(e=/^data-/.test(d.name))&&(c[b(d.name.substring(5))]=a.getAttribute(d.name)),e}));for(g in c)d.call(c,g)&&(e=c[g],e=new f.ElementData.DataValue(e),h[g]=e.parse());return h},a.prototype.get=function(a){var b;return null!=(b=this._obj[a])?b:null},a.prototype.toObject=function(){return f.Helper.clone(this._obj)},a}();var p;p=f.FeatureDetector.hasGetClientRect,n.GremlinDomElement=function(){function a(a,d){this._el=a,this._name=d,this._data=new f.ElementData.ElementData(this._el),this.isLazy=this._isLazy=!0===this._data.get(c)?!0:!1,this.name=this._name,this._triggeredPending=!1,f.Helper.addClass(this._el,b),s.debug.registerGremlin(this),s.emit(s.ON_ELEMENT_FOUND,this._el)}var b,c;return c="gremlinLazy",b="gremlin-loading",a.prototype._gremlinInstance=null,a.prototype.check=function(){return this._isInViewport()?this._create():void 0},a.prototype._isInViewport=function(){var a;return this._isLazy&&p?(a=document.documentElement.clientHeight,300>this._el.getBoundingClientRect().top-a):!0},a.prototype._create=function(){return this._gremlinInstance=n.GremlinFactory.getInstance(this._name,this._el,this._data),this.hasGremlin()?(f.Helper.removeClass(this._el,b),f.Helper.removeClass(this._el,"gremlin-definition-pending"),f.Helper.addClass(this._el,"gremlin-ready"),s.emit(s.ON_GREMLIN_LOADED,this._el)):this._triggeredPending?void 0:(this._triggeredPending=!0,f.Helper.addClass(this._el,"gremlin-definition-pending"),s.debug.console.info("Gremlin <"+this._name+"> found in the dom, but there is no definition for it at the moment."),s.emit(s.ON_DEFINITION_PENDING,this._el))},a.prototype.hasGremlin=function(){return null!==this._gremlinInstance},a}(),l=function(a,b){return function(){return a.apply(b,arguments)}},n.GremlinCollection=function(){function a(){this._scrollHandler=l(this._scrollHandler,this),this._queue=[],this._bindScroll(),this._scrollTimer=this._didScroll=!1}return a.prototype._queue=null,a.prototype._bindScroll=function(){return window.addEventListener?window.addEventListener("scroll",this._scrollHandler,!1):window.attachEvent?window.attachEvent("onscroll",this._scrollHandler):void 0},a.prototype.add=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],this._addGremlinElements(b);return this._processQueue()},a.prototype._addGremlinElements=function(a){var b,c,d,e,f;for(c=n.NameProvider.getNames(a),n.NameProvider.flagProcessedElement(a),f=[],d=0,e=c.length;e>d;d++)b=c[d],f.push(this._queue.push(new n.GremlinDomElement(a,b)));return f},a.prototype._processQueue=function(){var a,b,c,d,e;for(b=[],e=this._queue,c=0,d=e.length;d>c;c++)a=e[c],a.check(),a.hasGremlin()||b.push(a);return this._queue=b,s.debug.updateGremlinLog()},a.prototype.process=function(){return this._processQueue()},a.prototype._scrollHandler=function(){var a=this;return 0===this._queue.length?!0:(this._didScroll||(this._scrollTimer=setInterval(function(){return a._didScroll?(a._didScroll=!1,clearTimeout(a._scrollTimer),a.process()):void 0},250)),this._didScroll=!0)},a}();var q,l=function(a,b){return function(){return a.apply(b,arguments)}};q=function(){function a(){this._onNew=l(this._onNew,this);var a,c;a=null!=(c=new f.ElementData.ElementData(document.body).get(b))?c:{},this.configuration=new h.Configuration(a),this._observer=new m.DomObserver,this._coll=new n.GremlinCollection,this._observer.onNewElements=this._onNew}var b;return b="gremlinConfig",a.prototype._onNew=function(a){return this._coll.add(a)},a.prototype.start=function(){return this._observer.observe()},a.prototype.refresh=function(){return this._coll.process()},a}(),j.Module=function(){return function(a,b){var c,d;if(!(this instanceof j.Module))return function(a,b,c){return c.prototype=a.prototype,c=new c,a=a.apply(c,b),Object(a)===a?a:c}(j.Module,arguments,function(){});if(d="function"==typeof b.extend,c="function"==typeof b.bind,!d)throw Error("Missing .extend method in your module "+a);if(!c)throw Error("Missing .bind method in your module "+a);this.name=a,this.extend=b.extend,this.bind=b.bind,j.ModuleCollection.registerModule(this)}}();var r={};r.Package=function(){function a(a,c){return this instanceof r.Package?(this._package=b(a,c),void 0):function(a,b,c){return c.prototype=a.prototype,c=new c,a=a.apply(c,b),Object(a)===a?a:c}(r.Package,arguments,function(){})}var b,c;return c=g,b=function(a,b){var d,e,f,g,h,i;for(null==b&&(b=null),e=a.split("."),f=e.pop(),g=c,h=0,i=e.length;i>h;h++)d=e[h],g=g[d]||(g[d]={});return g[f]=b||g[f]||(g[f]={})},a.get=function(a){return b(a)},a}(),f.polyfill={},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e,f,g;if("undefined"==typeof this||null===this)throw new TypeError;if(f=Object(this),d=f.length>>>0,"function"!=typeof a)throw new TypeError;for(e=[],c=0;d>c;)c in f&&(g=f[c],a.call(b,g,c,f)&&e.push(g)),c++;return e}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b,c=Object(this),d=c.length>>>0;if(0===d)return-1;if(b=0,1<arguments.length&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&1/0!=b&&-1/0!=b&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),b>=d)return-1;for(b=b>=0?b:Math.max(d-Math.abs(b),0);d>b;b++)if(b in c&&c[b]===a)return b;return-1});var s,d={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};s=function(){var a,b;return a=null,b=new(function(b){function c(){c.__super__.constructor.apply(this,arguments),this.debug=new f.Debug(!1)}return k(c,b),c.prototype.ON_ELEMENT_FOUND="elementfound",c.prototype.ON_DEFINITION_PENDING="definitionpending",c.prototype.ON_GREMLIN_LOADED="gremlinloaded",c.prototype.add=function(b,c){return c=i.Pool.getInstance().addClass(b,c),null!=a&&a.refresh(),c},c.prototype.define=function(b,c,d,e){return b=i.Pool.getInstance().define(b,c,d,e),null!=a&&a.refresh(),b},c.prototype.Gizmo=i.Gizmo,c.prototype.Helper=f.Helper,c.prototype.Module=j.Module,c.prototype.namespace=g,c.prototype.ns=g,c.prototype.Package=r.Package,c}(c)),f.ready(function(){var c;return a=new q,(c=a.configuration.get(h.Configuration.options.DEBUG))&&(b.debug=new f.Debug(c)),a.start(),b.debug.console.log("gremlin.js up and running...")}),b}(),window.Gremlin=s,void 0===window.G&&(window.G=window.Gremlin),"function"==typeof window.define&&window.define.amd&&define("Gremlin",[],function(){return s})}({},function(){return this}());